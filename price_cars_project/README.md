# Описание проекта

Сервис по продаже автомобилей с пробегом «Не бит, не крашен» разрабатывает приложение, чтобы привлечь новых клиентов. В нём можно будет узнать рыночную стоимость своего автомобиля. Нужно построить модель, которая умеет её определять. В нашем распоряжении данные о технических характеристиках, комплектации и ценах других автомобилей.

Критерии, которые важны заказчику:
 - качество предсказания;
 - время обучения модели;
 - время предсказания модели.

# Описание данных

Признаки:
- `DateCrawled` — дата скачивания анкеты из базы
- `VehicleType` — тип автомобильного кузова
- `RegistrationYear` — год регистрации автомобиля
- `Gearbox` — тип коробки передач
- `Power` — мощность (л. с.)
- `Model` — модель автомобиля
- `Kilometer` — пробег (км)
- `RegistrationMonth` — месяц регистрации автомобиля
- `FuelType` — тип топлива
- `Brand` — марка автомобиля
- `Repaired` — была машина в ремонте или нет
- `DateCreated` — дата создания анкеты
- `NumberOfPictures` — количество фотографий автомобиля
- `PostalCode` — почтовый индекс владельца анкеты (пользователя)
- `LastSeen` — дата последней активности пользователя

Целевой признак:
- `Price` — цена (евро)


# Вывод
Компания разрабатывает приложение, чтобы привлечь новых клиентов, в котором можно будет узнать рыночную стоимость своего автомобиля. 

Перед нами была задача создать такую модель, которая умеет определять такую цена. 

Критерии, которые важны заказчику:
 - качество предсказания;
 - время обучения модели;
 - время предсказания модели.

Для нас был предоствалены данные о технических характеристиках, комплектации и ценах других автомобилей.

Мы проверили предобработку и исследовательский анализ данных, было много различных проблем, выделили основные моменты:
- Удалили явные дубликаты в кол-ве 4 шт.
- По столбцу `price` удалили 4% данных с слишком низкими ценами
- По столбцу `vehicle_type` пропуски заполнили модой для каждой отдельной модели и бренда.
- По столбцу `registration_year` удалили аномальные значения, прослеживается связь чем старей машина тем ниже её цена
- По столбцу `gearbox` пропуски заполнили модой для каждой отдельной модели и бренда, стоимость машин с АКПП по медиане больше, 76% машин с МКПП
- По столбцу `power` удалили аномальные значения, оставили диапазон 25-600 л.с. 
- По столбцу `model` пропуски заполнили 'unknow', самая популярная модель 'golf' компании 'Volkswagen', разная ценовая категоря у разныз моделей
- По столбцу `kilometer`, чем больше пробег не всегда меньше цена, видимо старые машины рассматриваются как раритет, в основом машины с пробегом > 100 тыс.км.
- По столбцу `registration_month` выброс в виде месяца = '0', медианное значение цены по месяцам не сильно отличается
- По столбцу `fuel_type` пропуски заполнили модой для каждой отдельной модели и бренда, по мединному значению цены 'hybrid' и 'electric' самые дорогие, самые дешевые `petrol` и `other`
- По столбцу `repaired` пропуски заполнили 'unknow', по мединному значению цены машины с ремонтом дешевле.

После того как подготовили данные, разделили их на тренировочную, тестовую выборку в соотношении 80/20% соответсвенно.

Обучили модели CatBoostRegresso, LGBMRegressor, RandomForestRegressor на тренировочной выборке и оценили качество RMSE на кросс-валидации. 

Наиболее успешная модель оказалсь LGBMRegressor с характеристиками:

![image](https://github.com/user-attachments/assets/3fdce48a-550b-47a2-b674-3f8cc4aa6b9d)

Рекомендации для бизнес: Наибольший вклад в предсказание цена машины внесли ряд признаков `model`, `registration_year`, `power`, `kilometr`. Важно, чтобы пользватель корректно вводил данные параметры своего автомобиля, в противном случае цена будет предсказана не точно. Также модель обучалась на старых данных, поэтому для будущих годов, модель будет не верно предсказывать цену, так как экономика меняется с каждым годом, цены на топливо, металл могут значительно колебаться, что будет влиять на стоимость машины. Важно дополнительлно учитывать экономические показатели для корректного предсказания цены.
