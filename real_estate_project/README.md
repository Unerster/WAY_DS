# Исследование объявлений о продаже квартир

## Описание проекта
В нашем распоряжении данные сервиса Яндекс Недвижимость — архив объявлений о продаже квартир в Санкт-Петербурге и соседних населённых пунктах за несколько лет. Нам нужно научиться определять рыночную стоимость объектов недвижимости. Для этого проведем исследовательский анализ данных и установим параметры, влияющие на цену объектов. Это позволит построить автоматизированную систему: она отследит аномалии и мошенническую деятельность. 
По каждой квартире на продажу доступны два вида данных. Первые вписаны пользователем, вторые — получены автоматически на основе картографических данных. Например, расстояние до центра, аэропорта и других объектов — эти данные автоматически получены из геосервисов. Количество парков и водоёмов также заполняется без участия пользователя.

## План работы
1. Откроем файл с данными и изучим общую информацию
2. Выполним предобработку данных
   - Найдем и изучим пропущенные значения в столбцах.
   - Рассмотрим типы данных в каждом столбце.
   - Изучим уникальные значения в столбце с названиями и устраним неявные дубликаты.

3. Добавим в таблицу новые столбцы со следующими параметрами:
   - цена одного квадратного метра (нужно поделить стоимость объекта на его общую площадь, а затем округлить до двух знаков после запятой);
   - день недели публикации объявления (0 — понедельник, 1 — вторник и так далее);
   - месяц публикации объявления;
   - год публикации объявления;
   - тип этажа квартиры (значения — «‎первый», «последний», «другой»);
   - расстояние до центра города в километрах (переведите из м в км и округлите до ближайших целых значений).
4. Проведем исследовательский анализ данных:
   - Изучим перечисленные параметры объектов и построим отдельные гистограммы для каждого из этих параметров.
   - Изучим, как быстро продавались квартиры (столбец `days_exposition`).
   - Определим факторы, которые больше всего влияют на общую (полную) стоимость объекта.
   - Посчитаем среднюю цену одного квадратного метра в 10 населённых пунктах с наибольшим числом объявлений.
   - Выделим квартиры в Санкт-Петербурге с помощью столбца `locality_name` и вычислим их среднюю стоимость на разном удалении от центра.
5. Подведем итоги

## Вывод
По предобработке данных:

Пропуски заменили:
- 'ceiling_height' - заменили медианным значением;
- 'living_area' - заменили отношеним total_area.median() на (total_area.median()/living_area.median());
- 'floor' - удалили пропуски, данных мало;
- 'is_apartment' - заменили на false;
- 'kitchen_area' - заменили отношеним total_area.median() на (total_area.median()/kitchen_area.median());
- 'balcony' - заменили на 0;
- 'locality_name' - поменяли ё на е, заменили уникальные значения, пропуски удалили;
- Данные из геосервисов с пропусками оставили как есть.

Добавили новый столбец который показывает какой тип населенного пункта(locality_name_category)

Добавили новый столбец с форматов datatime(pub_date)

Заменили тип float на int, где вещественные числа всегда целые(этаж, кол-во комнат).

Добавили в таблицу новые столбцы со следующими параметрами:
- цена одного квадратного метра(price_square_meter);
- день недели публикации объявления day_week_pubе);
- месяц публикации объявления(month_pub);
- год публикации объявления(year_pub);
- тип этажа квартиры(type_apartment_floor);
- расстояние до центра города в км.(cityCenters_nearest_in).

По исследовательскому анализу данных:

- Построили ряд гистрограмм, определили аномальные значения.
- Ряд площадей удалили из данных, так как они не соответствуют ГОСТ.
- Обработали высоту потолков - больше 10 метров разделили на 10, удалили потолки ниже 2.5 метров в соответсвии ГОСТ.
- Определили, что продажи квартиры меньше чем за 45 дней это очень быстро, необычно долго продаются квартиры от 233 дней и больше.
- Цена больше всех зависит от общей площади, явная линейная положительная зависимость наблюдается у квартир с площадью 500 кв.м и больше.
- В основном кваритры продаются на этажах выше 1 и ниже последнего. Такие квартиры имеют большую стоимость.
- В основом закрытие обьявлений происходит в будние дни.
- Цены примерно одинаковые в любые дни недели.
- В летние месяца квартир продают меньше.
- Продажи в основном в не теплые времена года.
- Цены примерно одинаковые в любые месяца.
- После 2014 года квартиры стали продаваться чаще, но гораздо дешевле.
- За 2016 - 2018 цены на квартиры были примерно одинаковые.
- Больше всех продаж пришлось на 2018 год.
- Больше всех объвлений и цена на 1 кв.метр в Санкт - Петербурге. В Выборге цена на 1 кв.метр меньше всех среди 9 самых популярных населенных пунктах.
- В Санкт - Петербурге квартиры ближе к центру гороздо дороже.

